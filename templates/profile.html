{% extends "base.html" %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telecom LMS - User Profile</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>



    <!-- Profile Content - Horizontal Layout -->
    <main class="dashboard-container">
        <!-- Welcome Banner -->
        <section class="welcome-banner">
            <div class="welcome-content">
                <h1>My Profile</h1>
                <p>View and manage your learning progress and account details</p>
            </div>
        </section>

        <!-- Profile Sections in Rows -->
        <div class="profile-rows-container">
            <!-- Personal Information Row -->
            <section class="profile-row">
                <div class="row-header">
                    <h2><i class="fas fa-user"></i> Personal Information</h2>
                    <button class="btn btn-primary btn-sm"><i class="fas fa-edit"></i> Edit</button>
                </div>
                <div class="row-content">
                    <div class="profile-pic-section">
                        <img src="https://st.depositphotos.com/1743476/1276/i/450/depositphotos_12767124-stock-photo-joyful-man-face.jpg" alt="Profile" class="profile-img" alt="Profile" class="profile-pic">
                        <button class="btn btn-accent btn-sm"><i class="fas fa-camera"></i> Update Photo</button>
                    </div>
                    <div class="info-grid">
                        <div class="info-item">
                            <label><i class="fas fa-user-tag"></i> Full Name</label>
                            <p>John Doe</p>
                        </div>
                        <div class="info-item">
                            <label><i class="fas fa-envelope"></i> Email</label>
                            <p>john.doe@telecom.com</p>
                        </div>
                        <div class="info-item">
                            <label><i class="fas fa-briefcase"></i> Position</label>
                            <p>Network Engineer</p>
                        </div>
                        <div class="info-item">
                            <label><i class="fas fa-building"></i> Department</label>
                            <p>IT & Infrastructure</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Certificates & Achievements Row -->
            <section class="profile-row">
                <div class="row-header">
                    <h2><i class="fas fa-award"></i> Certificates & Achievements</h2>
                    <button class="btn btn-outline">View All</button>
                </div>
                <div class="row-content">
                    <div class="certificates-grid">
                        <div class="certificate-card">
                            <div class="cert-icon gold">
                                <i class="fas fa-certificate"></i>
                            </div>
                            <div class="cert-details">
                                <h3>5G Certification</h3>
                                <p>Completed: 10 Apr 2024</p>
                                <p class="cert-desc">Mastered 5G network architecture and protocols</p>
                                <div class="cert-actions">
                                    <button class="btn btn-accent btn-sm"><i class="fas fa-download"></i> Download</button>
                                    <button class="btn btn-outline btn-sm"><i class="fas fa-share"></i> Share</button>
                                </div>
                            </div>
                        </div>
                        <div class="certificate-card">
                            <div class="cert-icon blue">
                                <i class="fas fa-medal"></i>
                            </div>
                            <div class="cert-details">
                                <h3>Fiber Optics Expert</h3>
                                <p>Awarded: 5 Mar 2024</p>
                                <p class="cert-desc">Demonstrated advanced fiber optic installation skills</p>
                                <div class="cert-actions">
                                    <button class="btn btn-accent btn-sm"><i class="fas fa-download"></i> Download</button>
                                    <button class="btn btn-outline btn-sm"><i class="fas fa-share"></i> Share</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Chatbot container -->
    <div class="chatbot-container">
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <h3>LMS Assistant</h3>
                <button class="close-chatbot" id="closeChatbot">Ã—</button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <!-- Messages will appear here -->
            </div>
            <div class="chat-input">
                <input type="text" id="userInput" placeholder="Type your question...">
                <button class="send-button" id="sendButton">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
                </button>
            </div>
        </div>
        <button class="chatbot-button" id="chatbotButton">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
        </button>
    </div>
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3>Saicom University</h3>
                <p>Empowering aspiring professionals through innovative learning solutions.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact</a></li>
                    <li><a href="#">Help Center</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Connect With Us</h3>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Saicom University. All rights reserved.</p>
        </div>
    </footer>
    <script>
        // Mobile menu toggle
        document.querySelector('.mobile-menu-btn').addEventListener('click', function() {
            document.querySelector('.nav-links').classList.toggle('active');
        });

        // DOM elements
        const chatbotButton = document.getElementById('chatbotButton');
        const closeChatbot = document.getElementById('closeChatbot');
        const chatbotWindow = document.getElementById('chatbotWindow');
        const chatMessages = document.getElementById('chatMessages');
        const userInput = document.getElementById('userInput');
        const sendButton = document.getElementById('sendButton');

        // Knowledge base for the chatbot
        const knowledgeBase = {
            "hello": "Hello! How can I help you with your LMS today?",
            "hi": "Hi there! What can I assist you with?",
            "how to submit assignment": "To submit an assignment: 1. Go to the 'Assignments' section 2. Click on the assignment you want to submit 3. Upload your file 4. Click 'Submit'",
            "where are my grades": "You can find your grades in the 'Grades' section of your course. Click on the course, then look for the 'Grades' tab in the navigation.",
            "course materials": "Course materials are available in each course's 'Materials' or 'Resources' section. If you can't find something specific, try using the search function.",
            "technical issues": "For technical issues, please try: 1. Refreshing the page 2. Clearing your browser cache 3. Trying a different browser. If problems persist, contact IT support.",
            "deadline extension": "For deadline extensions, please contact your instructor directly through the messaging system with your request and reason.",
            "reset password": "To reset your password: 1. Click 'Forgot password' on the login page 2. Follow the instructions sent to your email 3. Create a new password",
            "contact instructor": "You can contact your instructor by: 1. Going to the 'People' section in your course 2. Finding your instructor's name 3. Clicking the 'Message' button next to their name",
            "enrollment issues": "For enrollment issues, please contact the registrar's office or your academic advisor.",
            "default": "I'm sorry, I don't understand that question. Could you try rephrasing it? Here are some things I can help with: assignments, grades, course materials, technical issues, or contacting instructors."
        };

        // Common questions for quick replies
        const quickReplies = [
            "How to submit assignment?",
            "Where are my grades?",
            "Course materials",
            "Technical issues",
            "Contact instructor"
        ];

        // Toggle chatbot window
        chatbotButton.addEventListener('click', () => {
            chatbotWindow.style.display = 'flex';
            chatbotButton.style.display = 'none';
            // Add welcome message if first time opening
            if (chatMessages.children.length === 0) {
                addBotMessage("Hello! I'm your LMS assistant. How can I help you today?");
                showQuickReplies();
            }
        });

        closeChatbot.addEventListener('click', () => {
            chatbotWindow.style.display = 'none';
            chatbotButton.style.display = 'flex';
        });

        // Send message function
        function sendMessage() {
            const message = userInput.value.trim();
            if (message !== '') {
                addUserMessage(message);
                userInput.value = '';
                processUserInput(message);
            }
        }

        // Send message on button click or Enter key
        sendButton.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Add user message to chat
        function addUserMessage(text) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', 'user-message');
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Add bot message to chat
        function addBotMessage(text) {
            // Remove typing indicator if present
            const typingIndicator = document.querySelector('.typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }

            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', 'bot-message');
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Show typing indicator
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.classList.add('typing-indicator');
            typingDiv.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            `;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Show quick reply buttons
        function showQuickReplies() {
            const quickRepliesDiv = document.createElement('div');
            quickRepliesDiv.classList.add('quick-replies');

            quickReplies.forEach(reply => {
                const button = document.createElement('button');
                button.classList.add('quick-reply');
                button.textContent = reply;
                button.addEventListener('click', () => {
                    addUserMessage(reply);
                    processUserInput(reply);
                });
                quickRepliesDiv.appendChild(button);
            });

            chatMessages.appendChild(quickRepliesDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Process user input and generate response
        function processUserInput(input) {
            showTypingIndicator();

            // Simulate processing delay
            setTimeout(() => {
                const lowerInput = input.toLowerCase();
                let response = knowledgeBase.default;

                // Check for matching questions
                for (const [question, answer] of Object.entries(knowledgeBase)) {
                    if (lowerInput.includes(question.toLowerCase())) {
                        response = answer;
                        break;
                    }
                }

                addBotMessage(response);
                showQuickReplies();
            }, 1000);
        }
    </script>
</body>
</html>
{% endblock %}